
    <table class="table table-borderless p-0 m-0">
        <tr>
            <td class="fixed-width p-0 m-0">
                <button id="legend-burger" class="btn btn-light btn-sm d-sm-none" data-bs-toggle="popover" 
                    data-bs-placement="bottom" data-bs-html="true" data-bs-content="#menuContent1">        
                </button>
            </td>

            <td class="no-wrap text-center p-0 m-0">
                <!-- Energy Chart Legende left -->
                <div id="energy-chart-legend-buttons1" class="flex-container" style="<?=HtmlHelper::getDisplayStyleVisibleOrNot($actualConfig->showEnergyChartView())?>">
                    <span class="fs-12">(1)</span>
                    <span class="chart-toggle-line legend-label" data-chart-id="energy-chart-container" data-custom-form-field-field="energy1_chartShowEnergyOverZero" data-custom-form-field-field2="energy1_chartShowEnergyOverZeroPlusSavings">
                        <span class="legend-line em-over-zero-color me-0"></span><span class="legend-line add-savings-color ms-0"></span>
                        <span class="legend-label flex-wrap: nowrap <?=$actualConfig->configEnergy1()->getChartShowEnergyOverZero() ? '' : 'strikethrough'?>"><span class="d-inline d-xl-none">Einkauf</span><span class="d-none d-xl-inline">Stromeinkauf</span> / Ersparnis</span>
                    </span>
                    <span class="chart-toggle-line legend-label" data-chart-id="energy-chart-container" data-custom-form-field-field="energy1_chartShowFeedIn">
                        <span class="legend-line feed-in-color"></span>
                        <span class="legend-label flex-wrap: nowrap <?=$actualConfig->configEnergy1()->getChartShowFeedIn() ? '' : 'strikethrough'?>"><span class="d-inline d-xl-none">Einspeisung</span><span class="d-none d-xl-inline">Netzeinspeisung</span></span>
                    </span>
                    <span class="chart-toggle-line legend-label" data-chart-id="energy-chart-container" data-custom-form-field-field="energy1_chartShowSavings">
                        <span class="legend-line savings-color"></span>
                        <span class="legend-label flex-wrap: nowrap <?=$actualConfig->configEnergy1()->getChartShowSavings() ? '' : 'strikethrough'?>">Ersparnis</span>
                    </span>
                </div>
                <!-- Autarky Chart Legende left -->
                <div id="autarky-chart-legend-buttons1" class="flex-container" style="<?=HtmlHelper::getDisplayStyleVisibleOrNot($actualConfig->showAutarkyChartView())?>">
                    <span class="fs-12">(1)</span>
                    <span class="chart-toggle-line legend-label" data-chart-id="autarky-chart-container" data-custom-form-field-field="energy1_chartShowAutarky">
                        (1) <span class="legend-line autarky-color"></span><span class="legend-label flex-wrap: nowrap <?=$actualConfig->configEnergy1()->getChartShowAutarky() ? '' : 'strikethrough'?>">Anteil selbst produzierter Strom</span>
                    </span>        
                </div>                

            </td>

            <td class="no-wrap text-center p-0 m-0">
                <!-- Energy Chart Legende right -->
                <div id="energy-chart-legend-buttons2" class="flex-container" style="<?=HtmlHelper::getDisplayStyleVisibleOrNot($actualConfig->showEnergyChartView())?>">
                    <span class="fs-12">(2)</span>
                <?php if ($overviewPageService->hasData2()) : ?>            
                    <span class="chart-toggle-line" data-chart-id="energy-chart-container" data-custom-form-field-field="energy2_chartShowEnergyOverZero" data-custom-form-field-field2="energy2_chartShowEnergyOverZeroPlusSavings">
                        <span class="legend-line em-over-zero-color2 me-0"></span><span class="legend-line add-savings-color2 ms-0"></span>
                        <span class="legend-label flex-wrap: nowrap <?=$actualConfig->configEnergy2()->getChartShowEnergyOverZero() ? '' : 'strikethrough'?>"><span class="d-inline d-xl-none">Einkauf</span><span class="d-none d-xl-inline">Stromeinkauf</span> / Ersparnis</span>
                    </span>        
                    <span class="chart-toggle-line" data-chart-id="energy-chart-container" data-custom-form-field-field="energy2_chartShowFeedIn">
                        <span class="legend-line feed-in-color2"></span>
                        <span class="legend-label flex-wrap: nowrap <?=$actualConfig->configEnergy2()->getChartShowFeedIn() ? '' : 'strikethrough'?>"><span class="d-inline d-xl-none">Einspeisung</span><span class="d-none d-xl-inline">Netzeinspeisung</span></span>
                    </span>        
                    <span class="chart-toggle-line" data-chart-id="energy-chart-container" data-custom-form-field-field="energy2_chartShowSavings">
                        <span class="legend-line savings-color2"></span>
                        <span class="legend-label flex-wrap: nowrap <?=$actualConfig->configEnergy2()->getChartShowSavings() ? '' : 'strikethrough'?>">Ersparnis</span>
                    </span>
                <?php endif ?>        
                </div>
                <!-- Autarky Chart Legende right -->
                <div id="autarky-chart-legend-buttons1" class="flex-container" style="<?=HtmlHelper::getDisplayStyleVisibleOrNot($actualConfig->showAutarkyChartView())?>">
                    <span class="fs-12">(2)</span>
                <?php if ($overviewPageService->hasData2()) : ?>
                    <span class="chart-toggle-line" data-chart-id="autarky-chart-container" data-custom-form-field-field="energy2_chartShowAutarky">
                        <span class="legend-line autarky-color2"></span>
                        <span class="legend-label flex-wrap: nowrap <?=$actualConfig->configEnergy2()->getChartShowAutarky() ? '' : 'strikethrough'?>">Anteil selbst produzierter Strom</span>
                    </span>        
                <?php endif ?>        
                </div>        
            </td>
            
            <td class="fixed-width text-end p-0 m-0">
                <!-- switcjh view buttons for charts and table -->
                <div id="chart-buttons" class="d-flex gap-2 w-auto">
                    <button class="btn btn-light btn-sm switch-chart" data-chart="EnergyChart" id="legendBtnEnergyChart" style="<?=HtmlHelper::getDisplayStyleVisibleOrNot(!$actualConfig->showEnergyChartView())?>"><i class="bi bi-bar-chart"></i> Energie</button>
                    <button class="btn btn-light btn-sm switch-chart" data-chart="EnergyTable" id="legendBtnEnergyTable" style="<?=HtmlHelper::getDisplayStyleVisibleOrNot(!$actualConfig->showEnergyTableView())?>"><i class="bi bi-table"></i> Energie</button>
                    <button class="btn btn-light btn-sm switch-chart" data-chart="AutarkyChart" id="legendBtnAutarkyChart" style="<?=HtmlHelper::getDisplayStyleVisibleOrNot(!$actualConfig->showAutarkyChartView())?>"><i class="bi bi-bar-chart"></i> Autarkie</button>
                </div>                    
            </td>
        </tr>
    </table>

<div class="row justify-content-center">
    <!-- Energy Chart Container -->
    <div id="energy-chart-container" 
         style="<?=HtmlHelper::getDisplayStyleVisibleOrNot($actualConfig->showEnergyChartView())?>">
        <canvas id="energyChart"></canvas>
    </div>

    <!-- Autarky Chart Container -->
    <div id="autarky-chart-container" 
         style="<?=HtmlHelper::getDisplayStyleVisibleOrNot($actualConfig->showAutarkyChartView())?>">
        <canvas id="autarkyChart"></canvas>
    </div>

    <!-- Table Container -->
    <div id="energy-table-container" class="container mt-3" 
        style="<?=HtmlHelper::getDisplayStyleVisibleOrNot($actualConfig->showEnergyTableView())?>">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h6 class="text-start text-secondary m-0 d-none d-sm-block"><?=$energyTableCaption?></h6>
        </div>
        <?php include_once("energy-table.phtml");?>
    </div>
</div>
